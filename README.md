
<!-- README.md is generated from README.Rmd. Please edit that file -->

# waposhosh

<!-- badges: start -->

[![R-CMD-check](https://github.com/parmsam/waposhosh/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/parmsam/waposhosh/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

Use R to access Washington Post School Shootings dataset. Provides
convenient functions to spend less time data wrangling and more time
generating findings.

## Installation

You can install the development version of waposhosh from
[GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("parmsam/waposhosh")
```

## Example

This is a basic example which shows you how to interact with the
dataset:

``` r
library(waposhosh)
library(dplyr)
## basic example code
tail(schoolshootings, 4)
#> # A tibble: 4 × 50
#>     uid nces_sc…¹ schoo…² nces_…³ distr…⁴ date       schoo…⁵  year time  day_o…⁶
#>   <dbl> <chr>     <chr>   <chr>   <chr>   <date>     <chr>   <dbl> <drt> <chr>  
#> 1   340 <NA>      Edmund… <NA>    <NA>    2022-04-22 2021-2…  2022 5508… Friday 
#> 2   338 26254000… Aspen … 2625400 Nice C… 2022-04-26 2021-2…  2022 4860… Tuesday
#> 3   328 17099300… Walt D… 1709930 City O… 2022-05-17 2021-2…  2022 3600… Tuesday
#> 4   327 48437200… Robb E… 4843720 Uvalde… 2022-05-24 2021-2…  2022    N… Tuesday
#> # … with 40 more variables: city <chr>, state <chr>, school_type <chr>,
#> #   enrollment <dbl>, killed <dbl>, injured <dbl>, casualties <dbl>,
#> #   shooting_type <chr>, age_shooter1 <dbl>, gender_shooter1 <chr>,
#> #   race_ethnicity_shooter1 <chr>, shooter_relationship1 <chr>,
#> #   shooter_deceased1 <dbl>, deceased_notes1 <chr>, age_shooter2 <dbl>,
#> #   gender_shooter2 <chr>, race_ethnicity_shooter2 <chr>,
#> #   shooter_relationship2 <chr>, shooter_deceased2 <dbl>, …
```

``` r
glimpse(schoolshootings)
#> Rows: 338
#> Columns: 50
#> $ uid                              <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12…
#> $ nces_school_id                   <chr> "080480000707", "220054000422", "1304…
#> $ school_name                      <chr> "Columbine High School", "Scotlandvil…
#> $ nces_district_id                 <chr> "0804800", "2200540", "1304410", "421…
#> $ district_name                    <chr> "Jefferson County R-1", "East Baton R…
#> $ date                             <date> 1999-04-20, 1999-04-22, 1999-05-20, …
#> $ school_year                      <chr> "1998-1999", "1998-1999", "1998-1999"…
#> $ year                             <dbl> 1999, 1999, 1999, 1999, 1999, 1999, 1…
#> $ time                             <drtn> 40740 secs, 45000 secs, 28980 secs, …
#> $ day_of_week                      <chr> "Tuesday", "Thursday", "Thursday", "M…
#> $ city                             <chr> "Littleton", "Baton Rouge", "Conyers"…
#> $ state                            <chr> "Colorado", "Louisiana", "Georgia", "…
#> $ school_type                      <chr> "public", "public", "public", "public…
#> $ enrollment                       <dbl> 1965, 588, 1369, 3147, 1116, 753, 407…
#> $ killed                           <dbl> 13, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, …
#> $ injured                          <dbl> 21, 1, 6, 1, 1, 0, 5, 0, 0, 1, 0, 0, …
#> $ casualties                       <dbl> 34, 1, 6, 1, 1, 1, 5, 1, 0, 1, 0, 0, …
#> $ shooting_type                    <chr> "indiscriminate", "targeted", "indisc…
#> $ age_shooter1                     <dbl> 18, 14, 15, 17, NA, 12, 13, 16, 13, 1…
#> $ gender_shooter1                  <chr> "m", "m", "m", "m", "m", "m", "m", "m…
#> $ race_ethnicity_shooter1          <chr> "w", NA, "w", NA, NA, "h", "ai", "w",…
#> $ shooter_relationship1            <chr> "student", "former student (expelled)…
#> $ shooter_deceased1                <dbl> 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
#> $ deceased_notes1                  <chr> "suicide", NA, NA, NA, NA, NA, NA, NA…
#> $ age_shooter2                     <dbl> 17, NA, NA, NA, NA, NA, NA, NA, NA, N…
#> $ gender_shooter2                  <chr> "m", NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ race_ethnicity_shooter2          <chr> "w", NA, NA, NA, NA, NA, NA, NA, NA, …
#> $ shooter_relationship2            <chr> "student", NA, NA, NA, NA, NA, NA, NA…
#> $ shooter_deceased2                <dbl> 1, NA, NA, NA, NA, NA, NA, NA, NA, NA…
#> $ deceased_notes2                  <chr> "suicide", NA, NA, NA, NA, NA, NA, NA…
#> $ white                            <dbl> 1783, 5, 1189, 209, 40, 160, 239, 169…
#> $ black                            <dbl> 16, 583, 136, 2736, 755, 6, 3, 28, 40…
#> $ hispanic                         <dbl> 112, 0, 28, 27, 287, 583, 12, 96, 389…
#> $ asian                            <dbl> 42, 0, 15, 170, 29, 2, 0, 26, 222, 0,…
#> $ american_indian_alaska_native    <dbl> 12, 0, 1, 5, 5, 2, 153, 5, 1, 0, 1, 1…
#> $ hawaiian_native_pacific_islander <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
#> $ two_or_more                      <dbl> NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
#> $ resource_officer                 <dbl> 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0…
#> $ weapon                           <chr> "12-gauge Savage-Springfield 67H pump…
#> $ weapon_source                    <chr> "purchased from friends", NA, NA, "pu…
#> $ lat                              <dbl> 39.60391, 30.52996, 33.62692, 39.9215…
#> $ long                             <dbl> -105.07500, -91.16997, -84.04796, -75…
#> $ staffing                         <dbl> 89.600, 39.000, 84.000, 41.000, NA, 4…
#> $ low_grade                        <chr> "9", "6", "9", "9", "9", "6", "6", "9…
#> $ high_grade                       <chr> "12", "8", "12", "12", "12", "7", "8"…
#> $ lunch                            <dbl> 41, 495, 125, 2007, 543, 502, 146, 65…
#> $ county                           <chr> "Jefferson County", "East Baton Rouge…
#> $ state_fips                       <chr> "08", "22", "13", "42", "25", "35", "…
#> $ county_fips                      <chr> "08059", "22033", "13247", "42101", "…
#> $ ulocale                          <dbl> 21, 12, 21, 11, 11, 33, 32, 21, 13, 1…
```

You can use latest_data() to get the latest dataset from the Washington
Post [Github
repo](https://github.com/washingtonpost/data-school-shootings).

``` r
# get latest data
latest <- latest_data()
#> [1] "No update available. Returning existing package dataset."
tail(latest, 4)
#> # A tibble: 4 × 50
#>     uid nces_sc…¹ schoo…² nces_…³ distr…⁴ date       schoo…⁵  year time  day_o…⁶
#>   <dbl> <chr>     <chr>   <chr>   <chr>   <date>     <chr>   <dbl> <tim> <chr>  
#> 1   340 <NA>      Edmund… <NA>    <NA>    2022-04-22 2021-2…  2022 15:18 Friday 
#> 2   338 26254000… Aspen … 2625400 Nice C… 2022-04-26 2021-2…  2022 13:30 Tuesday
#> 3   328 17099300… Walt D… 1709930 City O… 2022-05-17 2021-2…  2022 10:00 Tuesday
#> 4   327 48437200… Robb E… 4843720 Uvalde… 2022-05-24 2021-2…  2022    NA Tuesday
#> # … with 40 more variables: city <chr>, state <chr>, school_type <chr>,
#> #   enrollment <dbl>, killed <dbl>, injured <dbl>, casualties <dbl>,
#> #   shooting_type <chr>, age_shooter1 <dbl>, gender_shooter1 <chr>,
#> #   race_ethnicity_shooter1 <chr>, shooter_relationship1 <chr>,
#> #   shooter_deceased1 <dbl>, deceased_notes1 <chr>, age_shooter2 <dbl>,
#> #   gender_shooter2 <chr>, race_ethnicity_shooter2 <chr>,
#> #   shooter_relationship2 <chr>, shooter_deceased2 <dbl>, …
```

## Credit

Credit goes to the Washington Post and their research and
reporting/database development team for compiling and sharing the
dataset on their [Github
repo](https://github.com/washingtonpost/data-school-shootings).

### Note

The data was originally published under an
Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)
license.
